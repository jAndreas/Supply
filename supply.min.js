window.supply=function(l,m,z){var s="/exec/supply.pl",k=null,p=null,t=0,u=1500,o={},d={},i={},A=navigator.userAgent.toLowerCase(),q=Object.prototype.toString,v=m.documentElement,w="scr"+ +new Date,x=null,r=m.createElement("script"),B=["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML3.XMLHTTP","MSXML2.XMLHTTP.6.0"],h={loadjavascript:1,loadstylesheet:2,jsonavailable:4,callback:8,useeval:16,msie:32,compatibleIE:64,debug:128,removescripts:256,localStorage:512},g=0;d.reset=function(){t=p=null;u=1500;g=
0;k&&k.abort();g|=h.useeval;g|=/msie/.test(A)?h.msie:0;if(g&h.msie&&A.match(/msie\D+(\d+(\.\d+)?)/))if(parseFloat(RegExp.$1)>=8&&"XDomainRequest"in l)g|=h.compatibleIE;var a=g,b;a:{if("localStorage"in l)try{localStorage.setItem("supply","foo");if(localStorage.getItem("supply")==="foo"){b=h.localStorage;break a}}catch(c){}b=0}g=a|b;if("complete"in i)i.complete=[]};d.init=function(){d.reset();k=function(){var a;try{a=g&h.compatibleIE?new XDomainRequest:new XMLHttpRequest}catch(b){for(var c=B.length;c--;)try{a=
new ActiveXObject(B[c]);break}catch(e){}}finally{return a}}();if(!k)throw Error("Unable to create XMLHttpRequest");x=function(){var a=null;r.type="text/javascript";try{r.textContent="window."+w+"=1;"}catch(b){}v.insertBefore(r,v.firstChild);if(l[w]===1){a="textContent";delete l[w]}else a="text";v.removeChild(r);return a}()}();o.setDealer=function(a){if(typeof a==="string")s=a;return o};o.files=function(a){var b=a.javascript,c=a.stylesheet,e=a.callback;a=a.debug;var f=[],j="";d.reset();if(b&&q.call(b)===
"[object Array]")g|=h.loadjavascript;if(c&&q.call(c)==="[object Array]")g|=h.loadstylesheet;if(a&&a===true)g|=h.debug;if(e&&(typeof e==="function"||typeof e==="string"))g|=h.callback;g&h.loadstylesheet&&f.push(d.serialize(c,"css"));g&h.loadjavascript&&f.push(d.serialize(b,"js"));if(g&h.callback)if(typeof e==="function")o.listen("complete",e);else typeof e==="string"&&e in l&&o.listen("complete",l[e]);if(a)d.attachScript(b);else{j=s+"?"+f.join("&");if(g&h.compatibleIE){k.onprogress=function(){d.readyStateHandler(true)};
k.onload=function(){d.readyStateHandler(true,true)}}else k.onreadystatechange=function(){d.readyStateHandler(false)};if(j.length<2048){k.open("GET",j,true);k.send(null)}else{k.open("POST",s,true);k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(f.join("&"))}}};d.readyStateHandler=function(a,b){if(!(g&h.msie)||g&h.compatibleIE)if(a&&p===null||k.readyState===3&&p===null)p=l.setInterval(function(){d.getLatestPacket()},25);if(k.readyState===4||b){clearInterval(p);d.getLatestPacket();
if(i.complete&&i.complete.length)for(var c=0,e=i.complete.length;c<e;c++)i.complete[c].apply(l)}};d.getLatestPacket=function(){var a=k.responseText.length,b=k.responseText.substring(t,a);d.processPacket(b);t=a};d.processPacket=function(a){if(!(a.length<1)){var b=a.indexOf("\u0003"),c=-1;if(b>-1)if(d.currentStream){c=b;b=-1}else c=a.indexOf("\u0003",b+1);if(d.currentStream)if(c>-1){b=a.substring(0,c);d.currentStream+=b;a=a.slice(c);d.processPayload();d.processPacket(a)}else d.currentStream+=a;else{d.currentStream=
"";if(b>-1)if(c>-1){b=a.substring(b,c);d.currentStream+=b;a=a.slice(c);d.processPayload();d.processPacket(a)}else d.currentStream+=a.substr(b)}}};d.processPayload=function(){d.currentStream=d.currentStream.replace("\u0003","");var a=d.currentStream.split("\u0001"),b=a[0],c=a[1],e=a[2];a=a[3];if(typeof i[b]!=="undefined")for(var f=0,j=i[b].length;f<j;f++)i[b][f].call(d,a,c,e);delete d.currentStream};d.attachScript=function(a){var b=m.createElement("script"),c=m.getElementsByTagName("head")[0],e=q.call(a)===
"[object Array]",f=e?a.shift():a;if(f){b.src="/js/"+f;b.type="text/javascript";b.onload=b.onreadystatechange=function(){if(b.readyState){if(b.readyState==="complete"||b.readyState==="loaded"){b.onreadystatechange=null;e&&d.attachScript(a)}}else{"console"in l&&console.log(b.src," attached");e&&d.attachScript(a)}};c.insertBefore(b,c.firstChild)}else if(i.complete&&i.complete.length){c=0;for(f=i.complete.length;c<f;c++)i.complete[c].apply(l)}};d.serialize=function(a,b){var c=[],e=a.length,f,j,n;if(q.call(a)===
"[object Array]"&&typeof b==="string"){if(g&h.localStorage)for(n=0;n<e;n++){j=a[n]in localStorage?JSON.parse(localStorage[a[n]]):"0";c.push([b,"=",a[n],"~",j.modified].join(""));if(j&&j.mime==="text/css")if(typeof i[j.mime]!=="undefined"){var y=0;for(f=i[j.mime].length;y<f;y++)i[j.mime][y].call(d,j.src,j.filename,null)}}else for(n=0;n<e;n++)c.push([b,"=",a[n]].join(""));return c.length?c.join("&"):z}return z};d.removeDuplicateNode=function(a,b){for(var c=m.getElementsByTagName("style"),e=c.length;e--;)c[e].getAttribute("name")===
b&&a.removeChild(c[e])};o.listen=function(a,b){if(typeof i[a]==="undefined")i[a]=[];typeof b==="function"&&i[a].push(b)};(function(){o.listen("text/javascript",function(a,b,c){if(g&h.localStorage)if(a==="cached")a=JSON.parse(localStorage[b]).src;else setTimeout(function(){localStorage[b]=JSON.stringify({modified:c,src:a,mime:"text/javascript",filename:b})},u+=300);try{if(g&h.useeval)eval(a);else{var e=m.getElementsByTagName("head")[0]||m.documentElement,f=m.createElement("script");f.type="text/javascript";
f[x]=a;f.setAttribute("name",b);e.insertBefore(f,e.firstChild);g&h.removescripts&&e.removeChild(f)}}catch(j){"console"in l&&console.error(b,": Exception. Details -> ",j)}});o.listen("text/css",function(a,b,c){if(g&h.localStorage&&b&&c)if(a==="cached")a=JSON.parse(localStorage[b]).src;else setTimeout(function(){localStorage[b]=JSON.stringify({modified:c,src:a,mime:"text/css",filename:b})},u+=300);var e=m.getElementsByTagName("head")[0]||m.documentElement,f=m.createElement("style");f.type="text/css";
f[x]=a;f.setAttribute("name",b);d.removeDuplicateNode(e,b);e.insertBefore(f,e.firstChild);g&h.removescripts&&e.removeChild(f)})})();return o}(window,window.document);
