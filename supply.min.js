window.supply=function(k,l,x){var r="/exec/supply.pl",i=null,o=null,s=0,t=1500,m={},d={},j={},y=navigator.userAgent.toLowerCase(),p=Object.prototype.toString,u=l.documentElement,v="scr"+ +new Date,w=null,q=l.createElement("script"),z=["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML3.XMLHTTP","MSXML2.XMLHTTP.6.0"],h={loadjavascript:1,loadstylesheet:2,jsonavailable:4,callback:8,useeval:16,msie:32,compatibleIE:64,debug:128,removescripts:256,localStorage:512},g=0;d.reset=function(){s=o=null;t=1500;g=
0;i&&i.abort();g|=h.useeval;g|=/msie/.test(y)?h.msie:0;if(g&h.msie&&y.match(/msie\D+(\d+(\.\d+)?)/))if(parseFloat(RegExp.$1)>=8&&"XDomainRequest"in k)g|=h.compatibleIE;g|="localStorage"in k?h.localStorage:0;if("complete"in j)j.complete=[]};d.init=function(){d.reset();i=function(){var a;try{a=g&h.compatibleIE?new XDomainRequest:new XMLHttpRequest}catch(b){for(var c=z.length;c--;)try{a=new ActiveXObject(z[c]);break}catch(f){}}finally{return a}}();if(!i)throw Error("Unable to create XMLHttpRequest");
w=function(){var a=null;q.type="text/javascript";try{q.textContent="window."+v+"=1;"}catch(b){}u.insertBefore(q,u.firstChild);if(k[v]===1){a="textContent";delete k[v]}else a="text";u.removeChild(q);return a}()}();m.setDealer=function(a){if(typeof a==="string")r=a;return m};m.files=function(a){var b=a.javascript,c=a.stylesheet,f=a.callback;a=a.debug;var e=[],n="";d.reset();if(b&&p.call(b)==="[object Array]")g|=h.loadjavascript;if(c&&p.call(c)==="[object Array]")g|=h.loadstylesheet;if(a&&a===true)g|=
h.debug;if(f&&(typeof f==="function"||typeof f==="string"))g|=h.callback;g&h.loadjavascript&&e.push(d.serialize(b,"js"));g&h.loadstylesheet&&e.push(d.serialize(c,"css"));if(g&h.callback)if(typeof f==="function")m.listen("complete",f);else typeof f==="string"&&f in k&&m.listen("complete",k[f]);if(a)d.attachScript(b);else{n=r+"?"+e.join("&");if(g&h.compatibleIE){i.onprogress=function(){d.readyStateHandler(true)};i.onload=function(){d.readyStateHandler(true,true)}}else i.onreadystatechange=function(){d.readyStateHandler(false)};
if(n.length<2048){i.open("GET",n,true);i.send(null)}else{i.open("POST",r,true);i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");i.send(e.join("&"))}}};d.readyStateHandler=function(a,b){if(!(g&h.msie)||g&h.compatibleIE)if(a&&o===null||i.readyState===3&&o===null)o=k.setInterval(function(){d.getLatestPacket()},25);if(i.readyState===4||b){clearInterval(o);d.getLatestPacket();if(j.complete&&j.complete.length)for(var c=0,f=j.complete.length;c<f;c++)j.complete[c].apply(k)}};d.getLatestPacket=
function(){var a=i.responseText.length,b=i.responseText.substring(s,a);d.processPacket(b);s=a};d.processPacket=function(a){if(!(a.length<1)){var b=a.indexOf("\u0003"),c=-1;if(b>-1)if(d.currentStream){c=b;b=-1}else c=a.indexOf("\u0003",b+1);if(d.currentStream)if(c>-1){b=a.substring(0,c);d.currentStream+=b;a=a.slice(c);d.processPayload();d.processPacket(a)}else d.currentStream+=a;else{d.currentStream="";if(b>-1)if(c>-1){b=a.substring(b,c);d.currentStream+=b;a=a.slice(c);d.processPayload();d.processPacket(a)}else d.currentStream+=
a.substr(b)}}};d.processPayload=function(){d.currentStream=d.currentStream.replace("\u0003","");var a=d.currentStream.split("\u0001"),b=a[0],c=a[1],f=a[2];a=a[3];if(typeof j[b]!=="undefined")for(var e=0,n=j[b].length;e<n;e++)j[b][e].call(d,a,c,f);delete d.currentStream};d.attachScript=function(a){var b=l.createElement("script"),c=l.getElementsByTagName("head")[0],f=p.call(a)==="[object Array]",e=f?a.shift():a;if(e){b.src="/js/"+e;b.type="text/javascript";b.onload=b.onreadystatechange=function(){if(b.readyState){if(b.readyState===
"complete"||b.readyState==="loaded"){b.onreadystatechange=null;f&&d.attachScript(a)}}else{"console"in k&&console.log(b.src," attached");f&&d.attachScript(a)}};c.insertBefore(b,c.firstChild)}else if(j.complete&&j.complete.length){c=0;for(e=j.complete.length;c<e;c++)j.complete[c].apply(k)}};d.serialize=function(a,b){var c=[],f=a.length,e;if(p.call(a)==="[object Array]"&&typeof b==="string"){if(g&h.localStorage)for(e=0;e<f;e++)c.push([b,"=",a[e],"~",a[e]in localStorage?JSON.parse(localStorage[a[e]]).modified:
"0"].join(""));else for(e=0;e<f;e++)c.push([b,"=",a[e]].join(""));return c.length?c.join("&"):x}return x};m.listen=function(a,b){if(typeof j[a]==="undefined")j[a]=[];typeof b==="function"&&j[a].push(b)};(function(){m.listen("text/javascript",function(a,b,c){if(g&h.localStorage)if(a==="cached")a=JSON.parse(localStorage[b]).src;else setTimeout(function(){localStorage[b]=JSON.stringify({modified:c,src:a})},t+=300);try{if(g&h.useeval)eval(a);else{var f=l.getElementsByTagName("head")[0]||l.documentElement,
e=l.createElement("script");e.type="text/javascript";e[w]=a;e.setAttribute("name",b);f.insertBefore(e,f.firstChild);g&h.removescripts&&f.removeChild(e)}}catch(n){"console"in k&&console.error(b,": Exception. Details -> ",n)}});m.listen("text/css",function(a,b){if(g&h.localStorage)if(a==="cached")a=JSON.parse(localStorage[b]).src;else{setTimeout(function(){localStorage[b]=JSON.stringify({modified:mtime,src:a})},t+=300);console.log(b," -> loading from stream")}var c=l.getElementsByTagName("head")[0]||
l.documentElement,f=l.createElement("style");f.type="text/css";f.name=b;f[w]=a;c.insertBefore(f,c.firstChild);g&h.removescripts&&c.removeChild(nscr)})})();return m}(window,window.document);
